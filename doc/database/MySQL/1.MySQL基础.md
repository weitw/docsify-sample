### 1. 学习数据库的意义

#### 1.1 从存储角度

- 实现大量数据的长期保存
- 便于数据的分析和共享
- 实现数据整体管理，方便后期数据修改

#### 1.2 从应用角度

- web应用程序开发中，浏览器、服务器、数据库是必不可少的
- 数据库服务器：MySQL、Oracle数据库



### 2. 数据库

#### 2.1 定义

从字面意思：存放数据的仓库（电子化文件柜）

定义：数据库（DataBase 简称DB）是一个软件产品，数据库按照数据结构来组织存储和管理数据，建立在计算机存储设备上的仓库。

#### 2.2 特点

1. 数据共享
2. 数据的一致性（安全性，完整性，并发控制，可维护性）
3. 数据的恢复

#### 2.3 主流数据库产品

##### 2.3.1 关系型数据库

Oracle、MySQL、Sql Server、DB2、Sybase、Access....

##### 2.3.2 非关系型数据库

MongoDB、Redis、Hbase....

### 3. SQL介绍

#### 3.1 关系型数据库

描述两个元素间的关联或者对应关系，使用关系模型把数据组织到二维表中。

#### 3.2 表

表是一个二维结构，由行和列组成。

横向的为行（row），也叫记录（Record），用来表示实体数据。

纵向为列（column），也叫字段（Field），用来表示实体属性。

一个关系型数据库是由多个数据表组成的，数据表是关系型数据库的基本存储结构

#### 3.3 SQL语言

SQL（Structured Query Langauge）是结构化查询语言，专门用于与数据库通信的语言，用于存取数据及查询更新和管理关系型数据库。

所有的关系型数据库都是使用相同或者相似的SQL语言。

#### 3.4 特点

1. 一体化。完成数据库全部工作，包括对数据的增、删、改、查
2. 简单易学。SQL语言简洁，语法简单，使用描述性强的英文单词（关键字）
3. 使用方式灵活。命令交互方式、嵌入主流的编程语言（Java、C++等）
4. 通用。几乎所有关系型数据库管理系统都支持SQL语言

#### 3.5 SQL的划分

##### 3.5.1 数据定义语言

DDL（Data Defintion Language），负责数据库对象（数据表结构）的定义。

常用语句（针对表结构）：

- create。创建数据库对象（创建表结构）
- alter。修改表结构
- drop。删除表（彻底删除）
- truncate。清空表数据（保留表结构）

##### 3.5.2 数据操纵语言

DML（Data Manipulation Language），实现对表中的数据增加、更新和删除操作

常用语句（针对表数据）：

- insert。增加数据
- update。更新数据
- delete。删除数据

##### 3.5.3 数据查询语言

DQL（Data Query Language），实现对数据的查询操作

常用语句：

- select：查询数据

**查询分为基础查询和高级查询**

##### 3.5.4 数据控制语言

DCL（Data Control Language），实现权限的授予和回收

常用语句（权限相关）：

- grant。授予权限
- revoke。回收权限
- create user。创建用户

##### 3.5.5 事务处理语言

TPL（Transaction Processing Language），跟DML数据操纵语言结合使用的，用于进行确认或者取消操作。

常用语句：

- commit。确认提交
- rollback。回滚
- savepoint。保存点

### 4. MySQL数据库

MySQL是目前最流行的关系型数据库管理系统之一。中小型网站开发的首选数据库，目前属于Oracle旗下产品

#### 4.1 特性

开源、免费、支持多线程、支持大型数据库、为多种编程语言提供API、多种数据库连接途径

#### 4.2 MySQL下载

官网：https://www.mysql.com

Oracle官网：https://www.oracle.com

#### 4.3 操作

##### 4.3.1 查询数据库

`show databases;`

##### 4.3.2 创建数据库

`create database 数据库名 default character set utf8;`

##### 4.3.3 使用指定的数据库

`use 数据库名;`

##### 4.3.4 查看指定数据库下的表

`show tables;`

##### 4.3.5 创建表

```mysql
create table 表名 (
	字段名 类型,
    字段名 类型
);
```

##### 4.3.4 查看表结构

`desc 表名;`或者`show columns from 表名;`

##### 4.3.5 查看系统时间

`select now() from dual;`，dual是一个虚表，仅用于测试

或者`select now();`

复制控制台中的数据：右击->标记->选中要复制的内容->回车

##### 4.3.6 查看编码设置

`show variables like 'character%';`

设置编码统一，当前会话有效：`set names gbk;`

#### 4.4 MySQL常用数据类型

1. 数值

   | 数值         | 描述                                                         |
   | ------------ | ------------------------------------------------------------ |
   | int          | 4个字节                                                      |
   | float(m, d)  | 4个字节，m表示数字的总位数<br />d表示小数位数，小数位数会自动四舍五入处理 |
   | double(m, d) | 8个字节                                                      |

2. 字符

   | 字符       | 描述                                                         |
   | ---------- | ------------------------------------------------------------ |
   | char(n)    | 定长字符，0-255字节，方便查询                                |
   | varchar(n) | 变长字符，n表示字符长度，<br />长度范围：0-65535字节，节省空间 |

   字符使用必须加引号（单双引号都可以）

   gbk会扩展一个字节（假如我们定义char(1)，那么还是可以存一个中文字符，但是实际会扩展一个字节，所以实际上占了2个）。

   utf-8会扩展两个字节。所以全部存储中文的话，实际最大长度只能到0-65535/3。

3. 日期

   | 日期     | 描述           |
   | -------- | -------------- |
   | date     | 日期数据       |
   | datetime | 日期和时间数据 |
